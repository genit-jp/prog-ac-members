
<%= bootstrap_form_for(profile) do |form| %>
      <% if profile.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(profile.errors.count, "error") %> prohibited this profile from being saved:</h2>
          <ul>
          <% profile.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
          </ul>
        </div>
  
      <% end %>
      <%= form.text_field :name, label: "名前" %>
      <%= form.text_field :name_kana, label: "よみがな" %>
      <%= form.text_field :title, label: "学校・仕事等" %>
      <%= form.text_field :goal, label: "目標(こうなりたい！)" %>
      <%= form.text_field :message, label: "メッセージ(よろしく等)" %>
      <%= form.file_field :icon_image, label: "顔画像" %>
      <%= form.hidden_field :pr_sheet_image, label: "自己紹介シート" %>
      <%= form.text_area :description, label: "自由欄", rows: 10 %>
      <div class="actions">
        <%= form.submit '更新', :class => 'btn btn-primary' %>
      </div>
<% end %>
<script>
    function pathToFilename(path) {
        const arr = path.split(/\\|\//)
        return arr[arr.length-1]
    }
    $('#profile_icon_image').on('change',function(){
        var fileName = $(this).val();
        $(this).next('.custom-file-label').html(pathToFilename(fileName));
    })
    $('#profile_pr_sheet_image').on('change',function(){
        var fileName = $(this).val();
        $(this).next('.custom-file-label').html(pathToFilename(fileName));
    })
</script>
